(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-chat-user-chat"],{"0305":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{text:""}},methods:{submit:function(){this.$emit("submit",this.text),this.text=""}}};e.default=a},"09ac":function(t,e,i){"use strict";i.r(e);var a=i("8f2c"),n=i("3c1b");for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i("9114");var u=i("2877"),s=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,"42c8b70c",null);e["default"]=s.exports},"15e6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"user-chat-item"},[t.item.gstime?i("v-uni-view",{staticClass:"user-chat-time u-f-ajc"},[t._v(t._s(t.item.gstime))]):t._e(),i("v-uni-view",{staticClass:"user-chat-list u-f",class:{"user-chat-me":t.item.isme}},[t.item.isme?t._e():i("v-uni-image",{attrs:{src:t.item.userpic,mode:"widthFix","lazy-load":""}}),i("v-uni-view",{staticClass:"user-chat-list-body"},["text"==t.item.type?i("v-uni-text",[t._v(t._s(t.item.data))]):t._e(),"img"==t.item.type?i("v-uni-image",{attrs:{src:t.item.data,mode:"widthFix","lazy-load":""}}):t._e()],1),t.item.isme?i("v-uni-image",{attrs:{src:t.item.userpic,mode:"widthFix","lazy-load":""}}):t._e()],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},3798:function(t,e,i){"use strict";i.r(e);var a=i("4aef"),n=i("4957");for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);var u=i("2877"),s=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,"4a4596b1",null);e["default"]=s.exports},"3c1b":function(t,e,i){"use strict";i.r(e);var a=i("0305"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);e["default"]=n.a},4957:function(t,e,i){"use strict";i.r(e);var a=i("74ea"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);e["default"]=n.a},"4aef":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-scroll-view",{style:{height:t.style.contentH+"px"},attrs:{id:"scrollview","scroll-y":"","scroll-top":t.scrollTop,"scroll-with-animation":!0}},[t._l(t.list,function(t,e){return[i("user-chat-list",{key:e+"_0",attrs:{item:t,index:e}})]})],2),i("user-chat-bottom",{on:{submit:function(e){e=t.$handleEvent(e),t.submit(e)}}})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"5c72":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".user-chat-bottom[data-v-42c8b70c]{position:fixed;bottom:0;left:0;right:0;height:%?120?%;padding:0 %?20?%;background:#fff;border-top:%?1?% solid #eee}.user-chat-bottom>uni-input[data-v-42c8b70c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-right:%?20?%;padding:%?10?% %?20?%;border-radius:%?10?%;background:#f7f7f7}.user-chat-bottom>uni-view[data-v-42c8b70c]{width:%?80?%;font-size:%?45?%}",""])},"74ea":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var n=a(i("09ac")),r=a(i("dc74")),u=a(i("a95a")),s={components:{userChatBottom:n.default,userChatList:u.default},data:function(){return{scrollTop:0,style:{contentH:0,itemH:0},list:[]}},onLoad:function(){this.getdata(),this.initdata()},onReady:function(){this.pageToBottom()},methods:{initdata:function(){try{var t=uni.getSystemInfoSync();this.style.contentH=t.windowHeight-uni.upx2px(120)}catch(e){}},pageToBottom:function(){var t=this,e=uni.createSelectorQuery();e.select("#scrollview").boundingClientRect(),e.selectAll(".user-chat-item").boundingClientRect(),e.exec(function(e){e[1].forEach(function(e){t.style.itemH+=e.height}),t.style.itemH>t.style.contentH&&(t.scrollTop=t.style.itemH)})},getdata:function(){for(var t=[{isme:!1,userpic:"../../static/demo/userpic/11.jpg",type:"text",data:"哈哈哈",time:"1555146412"},{isme:!0,userpic:"../../static/demo/userpic/10.jpg",type:"img",data:"../../static/demo/3.jpg",time:"1555146414"}],e=0;e<t.length;e++)t[e].gstime=r.default.gettime.getChatTime(t[e].time,e>0?t[e-1].time:0);this.list=t},submit:function(t){var e=(new Date).getTime(),i={isme:!0,userpic:"../../static/demo/userpic/10.jpg",type:"text",data:t,time:e,gstime:r.default.gettime.getChatTime(e,this.list[this.list.length-1].time)};this.list.push(i),this.pageToBottom()}}};e.default=s},"7ad3":function(t,e,i){"use strict";var a=i("9cac"),n=i.n(a);n.a},"7ca1":function(t,e,i){"use strict";i.r(e);var a=i("bdf8"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);e["default"]=n.a},"8f2c":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"user-chat-bottom u-f-ac"},[i("v-uni-input",{attrs:{type:"text",placeholder:"文明发言"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),i("v-uni-view",{staticClass:"icon iconfont icon-fabu u-f-ajc",on:{click:function(e){e=t.$handleEvent(e),t.submit(e)}}})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},9114:function(t,e,i){"use strict";var a=i("acfb"),n=i.n(a);n.a},"9cac":function(t,e,i){var a=i("cd47");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("8f0140b6",a,!0,{sourceMap:!1,shadowMode:!1})},a95a:function(t,e,i){"use strict";i.r(e);var a=i("15e6"),n=i("7ca1");for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i("7ad3");var u=i("2877"),s=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,"1897a018",null);e["default"]=s.exports},acfb:function(t,e,i){var a=i("5c72");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("60f5ba36",a,!0,{sourceMap:!1,shadowMode:!1})},bdf8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var a={props:{item:Object,index:Number}};e.default=a},cd47:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.user-chat-list[data-v-1897a018]{padding:%?20?% 0}.user-chat-list>uni-image[data-v-1897a018]{width:%?100?%;height:%?100?%;border-radius:100%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.user-chat-list-body[data-v-1897a018]{position:relative;background:#f4f4f4;padding:%?25?%;margin-left:%?20?%;border-radius:%?20?%;margin-right:%?100?%}.user-chat-list-body[data-v-1897a018]:after{position:absolute;left:%?-30?%;right:0;top:%?30?%;content:"";width:0;height:0;border:%?16?% solid #f4f4f4;border-color:rgba(0,0,0,0) #f4f4f4 rgba(0,0,0,0) rgba(0,0,0,0)}.user-chat-me[data-v-1897a018]{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.user-chat-me .user-chat-list-body[data-v-1897a018]{margin-right:%?20?%;margin-left:%?100?%}.user-chat-me .user-chat-list-body[data-v-1897a018]:after{left:auto;right:%?-30?%;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #f4f4f4}.user-chat-list-body>uni-image[data-v-1897a018]{max-width:%?150?%;max-height:%?200?%}.user-chat-time[data-v-1897a018]{padding:%?50?% 0;color:#a2a2a2;font-size:%?24?%}',""])},dc74:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("3b2b");var n=a(i("e814"));i("6b54"),i("87b3"),i("a481");var r={getHoroscope:function(t){var e=["摩羯","水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"];t=new Date(t);var i=t.getMonth()+1,a=t.getDate(),n=i-(a-14<"865778999988".charAt(i));return e[n]+"座"},sumAge:function(t){var e=new Date(t.replace(/-/g,"/")),i=new Date,a=i.getTime()-e.getTime(),n=Math.floor(a/864e5),r=a%864e5,u=Math.floor(r/36e5),s=r%36e5,o=(Math.floor(s/6e4),s%6e4);Math.round(o/1e3);return n+"天 "+u+"小时 "},getChatTime:function(t,e){if(t=t.toString().length<13?1e3*t:t,e=e.toString().length<13?1e3*e:e,((0,n.default)(t)-(0,n.default)(e))/1e3>300)return this.gettime(t)},gettime:function(t){t=t.toString().length<13?1e3*t:t;var e=(new Date).getTime(),i=(e-(0,n.default)(t))/1e3;return i<43200?this.dateFormat(new Date(t),"{A} {t}:{ii}"):i<518400?this.dateFormat(new Date(t),"{Mon}月{DD}日 {A} {t}:{ii}"):this.dateFormat(new Date(t),"{Y}-{MM}-{DD} {A} {t}:{ii}")},parseNumber:function(t){return t<10?"0"+t:t},dateFormat:function(t,e){var i={},a=/\{([^}]+)\}/,n=["一","二","三","四","五","六","七","八","九","十","十一","十二"];i["Y"]=t.getFullYear(),i["M"]=t.getMonth()+1,i["MM"]=this.parseNumber(i["M"]),i["Mon"]=n[i["M"]-1],i["D"]=t.getDate(),i["DD"]=this.parseNumber(i["D"]),i["h"]=t.getHours(),i["hh"]=this.parseNumber(i["h"]),i["t"]=i["h"]>12?i["h"]-12:i["h"],i["tt"]=this.parseNumber(i["t"]),i["A"]=i["h"]>12?"下午":"上午",i["i"]=t.getMinutes(),i["ii"]=this.parseNumber(i["i"]),i["s"]=t.getSeconds(),i["ss"]=this.parseNumber(i["s"]);while(a.test(e))e=e.replace(a,i[RegExp.$1]);return e},getAgeByBirthday:function(t){var e=new Date(t.replace(/-/g,"/")),i=new Date;return i.getFullYear()-e.getFullYear()-(i.getMonth()<e.getMonth()||i.getMonth()==e.getMonth()&&i.getDate()<e.getDate()?1:0)}},u={gettime:r};e.default=u}}]);